import { NextRequest, NextResponse } from 'next/server'; import { put } from '@vercel/blob'; export async function POST(req:NextRequest){ try{ const {filename,contentType}=await req.json(); const blob=await put(filename, new Blob([], {type:contentType}), { access:'public', token: process.env.BLOB_READ_WRITE_TOKEN, contentType }); return NextResponse.json({ url: blob.url, pathname: new URL(blob.url).pathname }); }catch(e:any){ return new NextResponse(e.message||'Error',{status:400}); }}