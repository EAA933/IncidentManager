import { prisma } from '@/lib/prisma'; import { NextRequest, NextResponse } from 'next/server'; export async function POST(req:NextRequest,{params}:{params:{id:string}}){ const body=await req.json(); try{ const att=await prisma.attachment.create({data:{ incidentId:params.id, fileName:body.fileName, fileUrl:body.fileUrl, uploadedBy: body.uploadedBy||'usuario' }}); return NextResponse.json(att);}catch(e:any){ return new NextResponse(e.message||'Error',{status:400}); }}